<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StatusSync Dashboard</title>
    <link rel="icon" type="image/svg+xml" href="logo.svg">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <img src="logo.svg" alt="StatusSync" style="width: 50px; height: 50px;">
                <h1>StatusSync Dashboard</h1>
            </div>
            <div class="guild-selector" id="guild-selector" style="display: none;">
                <label for="guild-select">Server:</label>
                <select id="guild-select" onchange="selectGuild()">
                    <option value="">Select a server...</option>
                </select>
                <button onclick="loadDashboard()" class="btn-primary">Load</button>
                <button onclick="logout()" class="btn-secondary" style="margin-left: 10px;">Logout</button>
            </div>
            <div id="login-container">
                <button onclick="login()" class="btn-primary">Login with Discord</button>
            </div>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="nav">
        <div class="container">
            <button onclick="showTab('overview')" class="nav-btn active" data-tab="overview">Overview</button>
            <button onclick="showTab('moderation')" class="nav-btn" data-tab="moderation">Moderation</button>
            <button onclick="showTab('leaderboards')" class="nav-btn" data-tab="leaderboards">Leaderboards</button>
            <button onclick="showTab('nightreign')" class="nav-btn" data-tab="nightreign">üó∫Ô∏è Nightreign</button>
            <button onclick="showTab('settings')" class="nav-btn" data-tab="settings">Settings</button>
            <button onclick="showTab('logs')" class="nav-btn" data-tab="logs">Logs</button>
            <button onclick="showTab('premium')" class="nav-btn" data-tab="premium">üíé Premium</button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container">
        <!-- Loading State -->
        <div id="loading" class="loading">
            <div class="spinner"></div>
            <p>Loading dashboard...</p>
        </div>

        <!-- Error State -->
        <div id="error" class="error" style="display: none;">
            <h2>‚ö†Ô∏è Error</h2>
            <p id="error-message"></p>
        </div>

        <!-- Overview Tab -->
        <div id="tab-overview" class="tab-content active">
            <h2>Server Overview</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-info">
                        <h3 id="stat-users">0</h3>
                        <p>Total Users</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚öñÔ∏è</div>
                    <div class="stat-info">
                        <h3 id="stat-cases">0</h3>
                        <p>Mod Cases</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí¨</div>
                    <div class="stat-info">
                        <h3 id="stat-commands">0</h3>
                        <p>Custom Commands</p>
                    </div>
                </div>
            </div>

            <div class="grid">
                <div class="card">
                    <h3>üìà Top Users by Reputation</h3>
                    <div id="top-rep" class="list"></div>
                </div>
                <div class="card">
                    <h3>üéØ Top Users by XP</h3>
                    <div id="top-xp" class="list"></div>
                </div>
            </div>

            <div class="card">
                <h3>üìä Moderation Activity (by Type)</h3>
                <div id="cases-chart"></div>
            </div>
        </div>

        <!-- Moderation Tab -->
        <div id="tab-moderation" class="tab-content">
            <h2>Moderation Panel</h2>
            
            <div class="card">
                <h3>üîç Search User History</h3>
                <div class="search-bar">
                    <input type="text" id="user-id-input" placeholder="Enter Discord User ID">
                    <button onclick="fetchUserHistory()" class="btn-primary">Search</button>
                </div>
                <div id="userhistory-list" class="list"></div>
            </div>

            <div class="card">
                <h3>üìã Recent Mod Cases</h3>
                <div class="table-responsive">
                    <table id="cases-table">
                        <thead>
                            <tr>
                                <th>Case #</th>
                                <th>User ID</th>
                                <th>Action</th>
                                <th>Reason</th>
                                <th>Moderator</th>
                                <th>Date</th>
                                <th>Status</th>
                            </tr>
                        </thead>
                        <tbody id="cases-tbody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Leaderboards Tab -->
        <div id="tab-leaderboards" class="tab-content">
            <h2>Leaderboards</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>üèÜ Reputation Leaders</h3>
                    <div id="rep-leaderboard" class="leaderboard"></div>
                </div>
                <div class="card">
                    <h3>‚ö° XP Leaders (All Time)</h3>
                    <div id="xp-leaderboard" class="leaderboard"></div>
                </div>
                <div class="card">
                    <h3>üìÖ Weekly XP Leaders</h3>
                    <div id="weekly-leaderboard" class="leaderboard"></div>
                </div>
            </div>
        </div>

        <!-- Nightreign Seed Finder Tab -->
        <div id="tab-nightreign" class="tab-content">
            <h2>üó∫Ô∏è Elden Ring: Nightreign Seed Finder</h2>
            <p class="description">Click building locations on the map to identify your seed</p>
            
            <!-- Map Selection -->
            <div class="card">
                <h3>Select Map Type</h3>
                <div class="nightreign-map-grid">
                    <button class="map-btn" onclick="selectNightMap('normal')" data-map="normal">
                        <img src="https://artimuz.github.io/Nightreign-Seed-Finder/Images/mapTypes/normalIcon.webp" alt="Normal">
                        <span>Normal</span>
                    </button>
                    <button class="map-btn" onclick="selectNightMap('mountaintop')" data-map="mountaintop">
                        <img src="https://artimuz.github.io/Nightreign-Seed-Finder/Images/mapTypes/mountainIcon.webp" alt="Mountaintop">
                        <span>Mountaintop</span>
                    </button>
                    <button class="map-btn" onclick="selectNightMap('noklateo')" data-map="noklateo">
                        <img src="https://artimuz.github.io/Nightreign-Seed-Finder/Images/mapTypes/noklateoIcon.webp" alt="Noklateo">
                        <span>Noklateo</span>
                    </button>
                    <button class="map-btn" onclick="selectNightMap('rotted')" data-map="rotted">
                        <img src="https://artimuz.github.io/Nightreign-Seed-Finder/Images/mapTypes/rotIcon.webp" alt="Rotted Woods">
                        <span>Rotted Woods</span>
                    </button>
                    <button class="map-btn" onclick="selectNightMap('crater')" data-map="crater">
                        <img src="https://artimuz.github.io/Nightreign-Seed-Finder/Images/mapTypes/craterIcon.webp" alt="Crater">
                        <span>Crater</span>
                    </button>
                    <button class="map-btn" onclick="selectNightMap('greatHollow')" data-map="greatHollow">
                        <img src="https://artimuz.github.io/Nightreign-Seed-Finder/Images/mapTypes/greatHollowIcon.webp" alt="Great Hollow">
                        <span>Great Hollow</span>
                    </button>
                </div>
            </div>

            <!-- Interactive Map -->
            <div id="nightreign-finder" class="card" style="display: none;">
                <h3 id="map-title">Interactive Map</h3>
                
                <div class="nightreign-container">
                    <!-- Map with clickable markers -->
                    <div class="nightreign-map-wrapper">
                        <img id="nightreign-map-img" src="" alt="Map" class="nightreign-map">
                        <svg id="nightreign-markers" class="nightreign-svg"></svg>
                    </div>

                    <!-- Sidebar -->
                    <div class="nightreign-sidebar">
                        <h4>Marked Locations</h4>
                        <div id="marked-slots"></div>

                        <h4 style="margin-top: 20px;">Nightlord (Optional)</h4>
                        <select id="nightlord-select" class="form-control">
                            <option value="">Any Nightlord</option>
                            <option value="Tricephalos">Tricephalos</option>
                            <option value="Gaping Jaw">Gaping Jaw</option>
                            <option value="Sentient Pest">Sentient Pest</option>
                            <option value="Augur">Augur</option>
                            <option value="Equilibrious Beast">Equilibrious Beast</option>
                            <option value="Darkdrift Knight">Darkdrift Knight</option>
                            <option value="Fissure in the Fog">Fissure in the Fog</option>
                            <option value="Night Aspect">Night Aspect</option>
                            <option value="Heolstor">Heolstor</option>
                            <option value="Gnoster">Gnoster</option>
                        </select>

                        <button onclick="searchSeeds()" class="btn-primary" style="width: 100%; margin-top: 20px;">
                            üîç Find Seeds
                        </button>
                        <button onclick="clearNightreign()" class="btn-secondary" style="width: 100%; margin-top: 10px;">
                            üîÑ Reset
                        </button>

                        <div id="match-count" style="margin-top: 20px; padding: 10px; background: #2c2f33; border-radius: 8px; text-align: center;"></div>
                    </div>
                </div>

                <!-- Results -->
                <div id="nightreign-results" style="margin-top: 30px;"></div>
            </div>
        </div>

        <!-- Settings Tab -->
        <div id="tab-settings" class="tab-content">
            <h2>‚öôÔ∏è Server Configuration</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>üëã Welcome Channel</h3>
                    <select id="welcome-channel" class="channel-select">
                        <option value="">Not configured</option>
                    </select>
                    <button onclick="saveChannelSetting('welcome')" class="btn" style="margin-top: 0.5rem; background: #3ba55d;">üíæ Save</button>
                </div>
                <div class="card">
                    <h3>‚öñÔ∏è Mod Log Channel</h3>
                    <select id="modlog-channel" class="channel-select">
                        <option value="">Not configured</option>
                    </select>
                    <button onclick="saveChannelSetting('modlog')" class="btn" style="margin-top: 0.5rem; background: #3ba55d;">üíæ Save</button>
                </div>
                <div class="card">
                    <h3>üìù Logging Channel</h3>
                    <select id="logging-channel" class="channel-select">
                        <option value="">Not configured</option>
                    </select>
                    <button onclick="saveChannelSetting('logging')" class="btn" style="margin-top: 0.5rem; background: #3ba55d;">üíæ Save</button>
                </div>
                <div class="card">
                    <h3>‚≠ê Starboard Channel</h3>
                    <select id="starboard-channel" class="channel-select">
                        <option value="">Not configured</option>
                    </select>
                    <button onclick="saveChannelSetting('starboard')" class="btn" style="margin-top: 0.5rem; background: #3ba55d;">üíæ Save</button>
                </div>
            </div>

            <div class="card" style="margin-top: 1rem;">
                <h3>‚≠ê Starboard Settings</h3>
                <div style="margin: 1rem 0;">
                    <label style="display: block; margin-bottom: 0.5rem;">
                        <strong>Emoji</strong>
                        <input type="text" id="starboard-emoji" placeholder="‚≠ê" value="‚≠ê"
                               style="width: 100%; padding: 0.5rem; margin-top: 0.25rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                    </label>
                </div>
                <div style="margin: 1rem 0;">
                    <label style="display: block; margin-bottom: 0.5rem;">
                        <strong>Threshold (reactions needed)</strong>
                        <input type="number" id="starboard-threshold" min="1" max="50" value="3"
                               style="width: 100%; padding: 0.5rem; margin-top: 0.25rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                    </label>
                </div>
                <button onclick="saveStarboardSettings()" class="btn" style="background: #f1c40f;">‚≠ê Save Starboard</button>
            </div>
        </div>

        <!-- Logs Tab -->
        <div id="tab-logs" class="tab-content">
            <h2>Moderation Logs</h2>
            
            <div class="card">
                <div class="table-responsive">
                    <table id="logs-table">
                        <thead>
                            <tr>
                                <th>Log ID</th>
                                <th>Case #</th>
                                <th>User ID</th>
                                <th>Moderator ID</th>
                                <th>Action</th>
                                <th>Reason</th>
                                <th>Date</th>
                            </tr>
                        </thead>
                        <tbody id="logs-tbody"></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Premium Tab -->
        <div id="tab-premium" class="tab-content">
            <h2>üíé Premium Features</h2>
            
            <!-- Current Status -->
            <div class="card" id="premium-status">
                <h3>Current Subscription</h3>
                <p id="premium-tier">Loading...</p>
            </div>

            <!-- Premium Feature Controls (only shown if premium active) -->
            <div id="premium-controls" style="display: none; margin-top: 2rem;">
                <div class="card">
                    <h3>‚öôÔ∏è Premium Settings</h3>
                    
                    <div style="margin: 1rem 0;">
                        <label style="display: block; margin-bottom: 0.5rem;">
                            <strong>Custom Bot Status</strong>
                            <input type="text" id="custom-status" placeholder="Enter custom status..." 
                                   style="width: 100%; padding: 0.5rem; margin-top: 0.25rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                        </label>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <label style="display: block; margin-bottom: 0.5rem;">
                            <strong>XP Multiplier</strong>
                            <input type="number" id="xp-multiplier" min="1" max="5" step="0.1" value="1.0"
                                   style="width: 100%; padding: 0.5rem; margin-top: 0.25rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                            <small style="color: #99aab5;">1.0 = normal, 2.0 = double XP, max 5.0</small>
                        </label>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <label style="display: block; margin-bottom: 0.5rem;">
                            <strong>Custom Embed Color</strong>
                            <input type="color" id="embed-color" value="#5865F2"
                                   style="width: 100%; height: 40px; padding: 0.25rem; margin-top: 0.25rem; background: #2c2f33; border: 1px solid #40444b; cursor: pointer; border-radius: 4px;">
                        </label>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="auto-mod-enabled">
                            <strong>Enable Advanced Auto-Moderation</strong>
                        </label>
                        <small style="color: #99aab5; margin-left: 1.5rem;">Spam filter, bad words, link blocking, caps lock detection</small>
                    </div>
                    
                    <div style="margin: 1rem 0;">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="custom-welcome-enabled">
                            <strong>Enable Custom Welcome Messages</strong>
                        </label>
                        <small style="color: #99aab5; margin-left: 1.5rem;">Rich embeds with member stats and images</small>
                    </div>
                    
                    <button onclick="savePremiumSettings()" class="btn" style="margin-top: 1rem; background: #667eea;">
                        üíæ Save Settings
                    </button>
                </div>
                
                <!-- Auto-Moderation Rules -->
                <div class="card" style="margin-top: 1rem;">
                    <h3>üõ°Ô∏è Auto-Moderation Rules</h3>
                    <p style="color: #99aab5; margin-bottom: 1rem;">Configure automatic moderation rules</p>
                    
                    <!-- Spam Detection -->
                    <div class="automod-rule">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" id="rule-spam-enabled">
                                <strong>üö´ Spam Detection</strong>
                            </label>
                        </div>
                        <div style="margin-left: 1.5rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.25rem; color: #99aab5; font-size: 0.9rem;">Messages per 10 seconds</label>
                                <input type="number" id="rule-spam-threshold" min="3" max="20" value="5" style="width: 100%; padding: 0.4rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.25rem; color: #99aab5; font-size: 0.9rem;">Action</label>
                                <select id="rule-spam-action" style="width: 100%; padding: 0.4rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                                    <option value="warn">Warn</option>
                                    <option value="delete">Delete</option>
                                    <option value="timeout">Timeout (5min)</option>
                                    <option value="kick">Kick</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Bad Words Filter -->
                    <div class="automod-rule" style="margin-top: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" id="rule-badwords-enabled">
                                <strong>ü§¨ Bad Words Filter</strong>
                            </label>
                        </div>
                        <div style="margin-left: 1.5rem;">
                            <div style="margin-bottom: 0.5rem;">
                                <label style="display: block; margin-bottom: 0.25rem; color: #99aab5; font-size: 0.9rem;">Blocked Words (comma separated)</label>
                                <textarea id="rule-badwords-config" rows="2" placeholder="word1, word2, word3" style="width: 100%; padding: 0.4rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px; resize: vertical;"></textarea>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.25rem; color: #99aab5; font-size: 0.9rem;">Action</label>
                                <select id="rule-badwords-action" style="width: 100%; padding: 0.4rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                                    <option value="warn">Warn</option>
                                    <option value="delete">Delete</option>
                                    <option value="timeout">Timeout (5min)</option>
                                    <option value="kick">Kick</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Link Blocking -->
                    <div class="automod-rule" style="margin-top: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" id="rule-links-enabled">
                                <strong>üîó Link Blocking</strong>
                            </label>
                        </div>
                        <div style="margin-left: 1.5rem;">
                            <div style="margin-bottom: 0.5rem;">
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; font-size: 0.9rem;">
                                    <input type="checkbox" id="rule-links-discord">
                                    <span style="color: #99aab5;">Block Discord invites</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer; font-size: 0.9rem; margin-top: 0.25rem;">
                                    <input type="checkbox" id="rule-links-all">
                                    <span style="color: #99aab5;">Block all links</span>
                                </label>
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.25rem; color: #99aab5; font-size: 0.9rem;">Action</label>
                                <select id="rule-links-action" style="width: 100%; padding: 0.4rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                                    <option value="warn">Warn</option>
                                    <option value="delete">Delete</option>
                                    <option value="timeout">Timeout (5min)</option>
                                    <option value="kick">Kick</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Caps Lock Detection -->
                    <div class="automod-rule" style="margin-top: 1rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.5rem;">
                            <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                                <input type="checkbox" id="rule-caps-enabled">
                                <strong>üî† Excessive Caps</strong>
                            </label>
                        </div>
                        <div style="margin-left: 1.5rem; display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                            <div>
                                <label style="display: block; margin-bottom: 0.25rem; color: #99aab5; font-size: 0.9rem;">Caps % threshold</label>
                                <input type="number" id="rule-caps-threshold" min="50" max="100" value="70" style="width: 100%; padding: 0.4rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                            </div>
                            <div>
                                <label style="display: block; margin-bottom: 0.25rem; color: #99aab5; font-size: 0.9rem;">Action</label>
                                <select id="rule-caps-action" style="width: 100%; padding: 0.4rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px;">
                                    <option value="warn">Warn</option>
                                    <option value="delete">Delete</option>
                                    <option value="timeout">Timeout (5min)</option>
                                    <option value="kick">Kick</option>
                                </select>
                            </div>
                        </div>
                    </div>
                    
                    <button onclick="saveAutoModRules()" class="btn" style="margin-top: 1rem; background: #f04747;">
                        üõ°Ô∏è Save Auto-Mod Rules
                    </button>
                    
                    <!-- Recent Violations -->
                    <div style="margin-top: 1.5rem; border-top: 1px solid #40444b; padding-top: 1rem;">
                        <h4 style="margin-bottom: 0.5rem;">Recent Violations</h4>
                        <div id="automod-violations" style="max-height: 200px; overflow-y: auto;">
                            <p style="color: #99aab5;">Loading...</p>
                        </div>
                    </div>
                </div>
                
                <!-- Anti-Nuke Protection -->
                <div class="card" style="margin-top: 1rem;">
                    <h3>üõ°Ô∏è Anti-Nuke Protection</h3>
                    <p style="color: #99aab5; margin-bottom: 1rem;">Protect your server from malicious mass actions (FREE feature)</p>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="antinuke-enabled">
                            <strong>Enable Anti-Nuke Protection</strong>
                        </label>
                        <p style="color: #99aab5; font-size: 0.9rem; margin-top: 0.5rem; margin-left: 1.5rem;">
                            Automatically bans users who perform mass actions like deleting channels, roles, or banning members
                        </p>
                    </div>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Whitelisted Users</label>
                        <p style="color: #99aab5; font-size: 0.9rem; margin-bottom: 0.5rem;">Add user IDs to whitelist (one per line)</p>
                        <textarea id="antinuke-whitelist" rows="5" placeholder="123456789012345678&#10;987654321098765432" 
                            style="width: 100%; padding: 0.5rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px; font-family: monospace;"></textarea>
                    </div>
                    
                    <button onclick="saveAntiNuke()" class="btn" style="background: #f04747;">
                        üíæ Save Anti-Nuke Settings
                    </button>
                </div>
                
                <!-- Join Gate Verification -->
                <div class="card" style="margin-top: 1rem;">
                    <h3>üö™ Join Gate Verification</h3>
                    <p style="color: #99aab5; margin-bottom: 1rem;">Require new members to verify before accessing your server (FREE feature)</p>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: flex; align-items: center; gap: 0.5rem; cursor: pointer;">
                            <input type="checkbox" id="joingate-enabled">
                            <strong>Enable Join Gate</strong>
                        </label>
                        <p style="color: #99aab5; font-size: 0.9rem; margin-top: 0.5rem; margin-left: 1.5rem;">
                            New members must click a verification button in their DMs before getting access
                        </p>
                    </div>
                    
                    <div style="margin-bottom: 1rem;">
                        <label style="display: block; margin-bottom: 0.5rem; font-weight: bold;">Verified Role ID</label>
                        <p style="color: #99aab5; font-size: 0.9rem; margin-bottom: 0.5rem;">Role ID to assign after verification</p>
                        <input type="text" id="joingate-role" placeholder="123456789012345678" 
                            style="width: 100%; padding: 0.5rem; background: #2c2f33; border: 1px solid #40444b; color: white; border-radius: 4px; font-family: monospace;">
                    </div>
                    
                    <button onclick="saveJoinGate()" class="btn" style="background: #3ba55d;">
                        üíæ Save Join Gate Settings
                    </button>
                </div>
                
                <!-- Backup & Restore -->
                <div class="card" style="margin-top: 1rem;">
                    <h3>üíæ Backup & Restore</h3>
                    <p style="color: #99aab5; margin-bottom: 1rem;">Save and restore your server configuration</p>
                    
                    <button onclick="createBackup()" class="btn" style="background: #3ba55d;">
                        üì¶ Create Backup
                    </button>
                    
                    <div id="backup-list" style="margin-top: 1rem;">
                        <!-- Backups will be loaded here -->
                    </div>
                </div>
            </div>

            <!-- Premium Tiers (shown if no premium) -->
            <div id="premium-tiers" class="stats-grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); margin-top: 2rem;">
                <!-- Tiers will be loaded here -->
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <p>StatusSync Dashboard ¬© 2025 | Made with ‚ù§Ô∏è for Discord</p>
        </div>
    </footer>

    <script src="frontend.js"></script>
    <script src="nightreign.js"></script>
</body>
</html>
